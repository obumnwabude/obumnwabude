<div app-container>
  <mat-toolbar *ngIf="!profileShowcaseInView && !isLargeScreen" mobile-header>
    <mat-toolbar-row>
      <button mat-icon-button (click)="scrollToTop()" title="Home">
        <img src="assets/svgs/home.svg" alt="" />
      </button>
      <span class="spacer"></span>
      <span>obumnwabude</span>
      <span class="spacer"></span>
      <button mat-icon-button (click)="changeTheme()" title="Switch Theme">
        <img
          [src]="
            'assets/svgs/' +
            (themes.indexOf(cssClass) == 0 ? themes[1] : themes[0]) +
            '.svg'
          "
          alt=""
        />
      </button>
    </mat-toolbar-row>
  </mat-toolbar>

  <mat-sidenav-container>
    <mat-sidenav mode="side" opened *ngIf="isLargeScreen">
      <ng-template [ngTemplateOutlet]="profileShowcase"></ng-template>
    </mat-sidenav>

    <mat-sidenav-content>
      <div
        (nguiInview)="profileShowcaseInView = true"
        (nguiOutview)="profileShowcaseInView = false"
      >
        <ng-template [ngTemplateOutlet]="profileShowcase"></ng-template>
      </div>

      <nav mat-tab-nav-bar mat-stretch-tabs>
        <a
          mat-tab-link
          *ngFor="let tab of tabs"
          (click)="mainTab = tab.link"
          [active]="mainTab == tab.link"
          [routerLink]="tab.link"
        >
          <img
            [src]="'assets/svgs/' + tab.link + '.svg'"
            class="tab-header-icon"
            alt=""
          />
          <span class="tab-label-text">{{ capitalize(tab.link) }}</span>
        </a>
      </nav>
      <nav mat-tab-nav-bar mat-stretch-tabs sub>
        <a
          mat-tab-link
          *ngFor="let child of currentChildren()"
          (click)="changeSubTab($event)"
          [active]="child.active"
          [routerLink]="[mainTab, child.link]"
          [title]="child.link"
        >
          <img
            [src]="'assets/svgs/' + (child.icon ?? child.link) + '.svg'"
            class="tab-header-icon"
            alt=""
          />
          <span [title]="child.link">{{
            child.view ?? capitalize(child.link)
          }}</span>
        </a>
      </nav>

      <div class="tab-content">
        <mat-card *ngFor="let c of content" class="mat-elevation-z2">
          <img
            mat-card-image
            [src]="'assets/images/' + c.image.name + '.png'"
            [alt]="c.image.alt"
          />
          <mat-card-title>{{ c.title }}</mat-card-title>
          <mat-card-content
            ><p>{{ c.description }}</p></mat-card-content
          >
          <mat-card-actions>
            <a
              *ngFor="let l of c.links"
              mat-stroked-button
              [href]="l.href"
              target="_blank"
              rel="noopener noreferrer"
            >
              <span>{{ l.title }}</span
              ><img
                [src]="'assets/svgs/' + l.svg + '.svg'"
                class="card-icon svg-icon"
              />
            </a>
          </mat-card-actions>
        </mat-card>
      </div>

      <button
        mat-fab
        (click)="changeTheme()"
        title="Switch Theme"
        *ngIf="isLargeScreen"
      >
        <img
          [src]="
            'assets/svgs/' +
            (themes.indexOf(cssClass) == 0 ? themes[1] : themes[0]) +
            '.svg'
          "
          alt=""
        />
      </button>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

<ng-template #profileShowcase>
  <div profile-showcase>
    <div ps-img-container>
      <img src="assets/images/obum.png" alt="Obum" />
    </div>
    <div>
      <h1 full-name>Obumuneme Nwabude</h1>
      <p obum-text-container>(call me <span>Obum</span>)</p>
      <div profile-icons>
        <a
          target="_blank"
          rel="noreferrer noopener"
          *ngFor="let p of profiles"
          [href]="p.link"
          [title]="capitalize(p.icon)"
        >
          <img
            [src]="'assets/svgs/' + p.icon + '.svg'"
            class="profile-icon"
            alt=""
          />
        </a>
      </div>
      <ul>
        <li>Technical Writer</li>
        <li>Mobile and Fullstack Web Developer</li>
        <li>Beta Microsoft Learn Student Ambassador</li>
        <li>Genesys Campus Club Ambassador</li>
        <li>Former Trainer on Google Digital Skills for Africa</li>
        <li>Former Google Developer Student Clubs Lead</li>
      </ul>
    </div>
  </div>
</ng-template>
